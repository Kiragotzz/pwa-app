(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{rFLM:function(n,l,u){"use strict";u.r(l);var e=u("8Y7J");class t{}var a=u("pMnS"),o=u("MKJQ"),i=u("sZkV"),r=u("s7LF"),s=u("mrSG"),b=u("NFKh"),g=u("H+bZ"),h=u("qfBg"),c=u("6mc2");class d{constructor(n,l,u,e){this.navCtrl=n,this.api=l,this.user=u,this.tools=e,this.senhaAtual="",this.novaSenha="",this.confirmarSenha="",this.usuario={}}ngOnInit(){}save(){return s.__awaiter(this,void 0,void 0,(function*(){this.usuario=this.user.getUsuarioClube();var n=b.SHA256(this.senhaAtual).toString(b.enc.Hex),l=b.SHA256(this.novaSenha).toString(b.enc.Hex),u="";if(this.novaSenha.length<6?u="A senha deve conter no m\xednimo 6 caracteres.":this.usuario.dados.hash&&n!=this.usuario.dados.hash?u="A senha atual incorreta.":this.usuario.dados.hash||this.senhaAtual==this.usuario.dados.senha?this.novaSenha!=this.confirmarSenha&&(u="As senhas n\xe3o conferem."):u="A senha atual incorreta.",""!=u)return void this.tools.showAlert("Alerta",u);this.usuario.dados.senha=this.novaSenha,this.usuario.dados.hash=l;let e=yield this.tools.showLoading("Carregando...");e.present(),this.tools.eventGHFly("salvar_alterar_senha"),this.api.save("cadBrainClientes",this.usuario,n=>{console.log(n),e.dismiss(),1==n.nMatched&&(this.tools.showAlert("Alerta","Senha alterada com sucesso!"),this.navCtrl.navigateForward("/clube"))})}))}}var p=e.pb({encapsulation:0,styles:[[".register[_ngcontent-%COMP%]{background:#ecf5fc;height:100vh;padding:16px}.register[_ngcontent-%COMP%]   .register-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:16px}.register[_ngcontent-%COMP%]   .register-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:700;color:#144ab2}.register[_ngcontent-%COMP%]   .register-header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:#009efa}.register[_ngcontent-%COMP%]   .toggle-content[_ngcontent-%COMP%]{padding-left:16px;margin:10px 0;display:flex;justify-content:flex-start;align-items:center}.register[_ngcontent-%COMP%]   .toggle-content[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin-left:10px}.item[_ngcontent-%COMP%]{margin-bottom:20px}.item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{color:#144ab2;padding-left:20px;font-weight:600;margin-bottom:3px}ion-datetime[_ngcontent-%COMP%], ion-input[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%]{padding:0 20px!important;color:#009efa;background:#fff;font-weight:600;width:100%;border:none;border-radius:20px;box-sizing:border-box;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);height:38px;display:flex;align-items:center}"]],data:{}});function C(n){return e.Kb(0,[(n()(),e.rb(0,0,null,null,11,"ion-header",[],null,null,null,o.lb,o.p)),e.qb(1,49152,null,0,i.D,[e.h,e.l,e.y],null,null),(n()(),e.rb(2,0,null,0,9,"ion-toolbar",[["color","secondary"]],null,null,null,o.Rb,o.V)),e.qb(3,49152,null,0,i.Bb,[e.h,e.l,e.y],{color:[0,"color"]},null),(n()(),e.rb(4,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,o.bb,o.f)),e.qb(5,49152,null,0,i.n,[e.h,e.l,e.y],null,null),(n()(),e.rb(6,0,null,0,2,"ion-back-button",[],null,[[null,"click"]],(function(n,l,u){var t=!0;return"click"===l&&(t=!1!==e.Db(n,8).onClick(u)&&t),t}),o.Y,o.c)),e.qb(7,49152,null,0,i.i,[e.h,e.l,e.y],null,null),e.qb(8,16384,null,0,i.j,[[2,i.hb],i.Ib,i.e],null,null),(n()(),e.rb(9,0,null,0,2,"ion-title",[],null,null,null,o.Pb,o.T)),e.qb(10,49152,null,0,i.zb,[e.h,e.l,e.y],null,null),(n()(),e.Jb(-1,0,["Dados de Acesso"])),(n()(),e.rb(12,0,null,null,44,"ion-content",[["class","register"]],null,null,null,o.ib,o.m)),e.qb(13,49152,null,0,i.w,[e.h,e.l,e.y],null,null),(n()(),e.rb(14,0,null,0,42,"div",[["class","app-register ion-padding"]],null,null,null,null,null)),(n()(),e.rb(15,0,null,null,4,"div",[["class","register-header text-primary"]],null,null,null,null,null)),(n()(),e.rb(16,0,null,null,1,"h2",[],null,null,null,null,null)),(n()(),e.Jb(-1,null,["Alterar Senha"])),(n()(),e.rb(18,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),e.Jb(-1,null,["Preencha os campos abaixo."])),(n()(),e.rb(20,0,null,null,36,"div",[["class","register-content"]],null,null,null,null,null)),(n()(),e.rb(21,0,null,null,10,"div",[["class","item"]],null,null,null,null,null)),(n()(),e.rb(22,0,null,null,2,"ion-label",[],null,null,null,o.tb,o.x)),e.qb(23,49152,null,0,i.P,[e.h,e.l,e.y],null,null),(n()(),e.Jb(-1,0,["Senha Atual *"])),(n()(),e.rb(25,0,null,null,6,"ion-input",[["autofocus",""],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],(function(n,l,u){var t=!0,a=n.component;return"ionBlur"===l&&(t=!1!==e.Db(n,26)._handleBlurEvent(u.target)&&t),"ionChange"===l&&(t=!1!==e.Db(n,26)._handleInputEvent(u.target)&&t),"ngModelChange"===l&&(t=!1!==(a.senhaAtual=u)&&t),t}),o.qb,o.u)),e.qb(26,4341760,null,0,i.Pb,[e.q,e.l],null,null),e.Gb(1024,null,r.f,(function(n){return[n]}),[i.Pb]),e.qb(28,671744,null,0,r.i,[[8,null],[8,null],[8,null],[6,r.f]],{model:[0,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,r.g,null,[r.i]),e.qb(30,16384,null,0,r.h,[[4,r.g]],null,null),e.qb(31,49152,null,0,i.I,[e.h,e.l,e.y],{autofocus:[0,"autofocus"],type:[1,"type"]},null),(n()(),e.rb(32,0,null,null,10,"div",[["class","item"]],null,null,null,null,null)),(n()(),e.rb(33,0,null,null,2,"ion-label",[],null,null,null,o.tb,o.x)),e.qb(34,49152,null,0,i.P,[e.h,e.l,e.y],null,null),(n()(),e.Jb(-1,0,["Nova Senha *"])),(n()(),e.rb(36,0,null,null,6,"ion-input",[["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],(function(n,l,u){var t=!0,a=n.component;return"ionBlur"===l&&(t=!1!==e.Db(n,37)._handleBlurEvent(u.target)&&t),"ionChange"===l&&(t=!1!==e.Db(n,37)._handleInputEvent(u.target)&&t),"ngModelChange"===l&&(t=!1!==(a.novaSenha=u)&&t),t}),o.qb,o.u)),e.qb(37,4341760,null,0,i.Pb,[e.q,e.l],null,null),e.Gb(1024,null,r.f,(function(n){return[n]}),[i.Pb]),e.qb(39,671744,null,0,r.i,[[8,null],[8,null],[8,null],[6,r.f]],{model:[0,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,r.g,null,[r.i]),e.qb(41,16384,null,0,r.h,[[4,r.g]],null,null),e.qb(42,49152,null,0,i.I,[e.h,e.l,e.y],{type:[0,"type"]},null),(n()(),e.rb(43,0,null,null,10,"div",[["class","item"]],null,null,null,null,null)),(n()(),e.rb(44,0,null,null,2,"ion-label",[],null,null,null,o.tb,o.x)),e.qb(45,49152,null,0,i.P,[e.h,e.l,e.y],null,null),(n()(),e.Jb(-1,0,["Confirmar Nova Senha *"])),(n()(),e.rb(47,0,null,null,6,"ion-input",[["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],(function(n,l,u){var t=!0,a=n.component;return"ionBlur"===l&&(t=!1!==e.Db(n,48)._handleBlurEvent(u.target)&&t),"ionChange"===l&&(t=!1!==e.Db(n,48)._handleInputEvent(u.target)&&t),"ngModelChange"===l&&(t=!1!==(a.confirmarSenha=u)&&t),t}),o.qb,o.u)),e.qb(48,4341760,null,0,i.Pb,[e.q,e.l],null,null),e.Gb(1024,null,r.f,(function(n){return[n]}),[i.Pb]),e.qb(50,671744,null,0,r.i,[[8,null],[8,null],[8,null],[6,r.f]],{model:[0,"model"]},{update:"ngModelChange"}),e.Gb(2048,null,r.g,null,[r.i]),e.qb(52,16384,null,0,r.h,[[4,r.g]],null,null),e.qb(53,49152,null,0,i.I,[e.h,e.l,e.y],{type:[0,"type"]},null),(n()(),e.rb(54,0,null,null,2,"ion-button",[["class","ion-margin-top"],["expand","block"]],null,[[null,"click"]],(function(n,l,u){var e=!0;return"click"===l&&(e=!1!==n.component.save()&&e),e}),o.ab,o.e)),e.qb(55,49152,null,0,i.m,[e.h,e.l,e.y],{expand:[0,"expand"]},null),(n()(),e.Jb(-1,0,["Alterar Senha"]))],(function(n,l){var u=l.component;n(l,3,0,"secondary"),n(l,28,0,u.senhaAtual),n(l,31,0,"","password"),n(l,39,0,u.novaSenha),n(l,42,0,"password"),n(l,50,0,u.confirmarSenha),n(l,53,0,"password"),n(l,55,0,"block")}),(function(n,l){n(l,25,0,e.Db(l,30).ngClassUntouched,e.Db(l,30).ngClassTouched,e.Db(l,30).ngClassPristine,e.Db(l,30).ngClassDirty,e.Db(l,30).ngClassValid,e.Db(l,30).ngClassInvalid,e.Db(l,30).ngClassPending),n(l,36,0,e.Db(l,41).ngClassUntouched,e.Db(l,41).ngClassTouched,e.Db(l,41).ngClassPristine,e.Db(l,41).ngClassDirty,e.Db(l,41).ngClassValid,e.Db(l,41).ngClassInvalid,e.Db(l,41).ngClassPending),n(l,47,0,e.Db(l,52).ngClassUntouched,e.Db(l,52).ngClassTouched,e.Db(l,52).ngClassPristine,e.Db(l,52).ngClassDirty,e.Db(l,52).ngClassValid,e.Db(l,52).ngClassInvalid,e.Db(l,52).ngClassPending)}))}function v(n){return e.Kb(0,[(n()(),e.rb(0,0,null,null,1,"app-clube-senha",[],null,null,null,C,p)),e.qb(1,114688,null,0,d,[i.Ib,g.a,h.a,c.a],null,null)],(function(n,l){n(l,1,0)}),null)}var f=e.nb("app-clube-senha",d,v,{},{},[]),m=u("SVse"),y=u("iInd");class P{}u.d(l,"ClubeSenhaPageModuleNgFactory",(function(){return x}));var x=e.ob(t,[],(function(n){return e.Ab([e.Bb(512,e.k,e.Z,[[8,[a.a,f]],[3,e.k],e.w]),e.Bb(4608,m.l,m.k,[e.t,[2,m.y]]),e.Bb(4608,r.l,r.l,[]),e.Bb(4608,i.c,i.c,[e.y,e.g]),e.Bb(4608,i.Hb,i.Hb,[i.c,e.k,e.q]),e.Bb(4608,i.Lb,i.Lb,[i.c,e.k,e.q]),e.Bb(1073742336,m.b,m.b,[]),e.Bb(1073742336,r.k,r.k,[]),e.Bb(1073742336,r.e,r.e,[]),e.Bb(1073742336,i.Db,i.Db,[]),e.Bb(1073742336,y.p,y.p,[[2,y.u],[2,y.m]]),e.Bb(1073742336,P,P,[]),e.Bb(1073742336,t,t,[]),e.Bb(1024,y.k,(function(){return[[{path:"",component:d}]]}),[])])}))}}]);