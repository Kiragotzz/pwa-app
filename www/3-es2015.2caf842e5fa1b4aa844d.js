(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{BOJy:function(n,t,l){"use strict";l.r(t);var o=l("8Y7J");class e{}var i=l("pMnS"),c=l("MKJQ"),a=l("sZkV"),u=l("SVse"),s=l("H+bZ"),r=l("6mc2"),g=l("EnSQ"),d=l("qfBg");class f{constructor(n,t,l,o,e){this.navCtrl=n,this.api=t,this.tools=l,this.data=o,this.user=e,this.notificacoes=[],this.mapDiaSemana={0:"Domingo",1:"Segunda-feira",2:"Ter\xe7a-feira",3:"Quarta-feira",4:"Quinta-feira",5:"Sexta-feira",6:"S\xe1bado"}}ngOnInit(){}ionViewDidEnter(){var n=this.user.getUsuarioClube();this.api.clube("listarnotificacoes",{clienteId:n._id+""},n=>{this.data.setData("notificacoes",0);let t=(new Date).toLocaleDateString("pt-BR"),l=t.split("/").reverse(),o=new Date(l[0],1*l[1]-1,l[2],0,0,0).getTime();for(let e of n.data)e.data_disparo=new Date(e.timeDisparo).toLocaleDateString("pt-BR"),e.dia_semana_disparo=this.mapDiaSemana[new Date(e.timeDisparo).getDay()],t==e.dia_semana_disparo&&(e.minutos_disparo=Math.floor((e.timeDisparo-new Date(o).getTime())/1e3/60));this.notificacoes=n.data,console.log("\u{1f680} ~ this.notificacoes:",this.notificacoes)})}linkTo(n){n.url?("Interno"==n.tipoUrl&&this.navCtrl.navigateForward(n.url),"Externo"==n.tipoUrl&&this.tools.openBrowser(n.url)):console.log("sem url")}removerAll(){console.log("\u{1f680} ~ removeAll:");for(let n of this.notificacoes)this.remover(n)}remover(n){this.api.clube("removernotificacoes",{notificacao:n},t=>{console.log("[removernotificacoes]: ",t);var l=this.notificacoes.findIndex(t=>t._id+""==n._id+"");l>=0&&this.notificacoes.splice(l,1)})}}var b=o.pb({encapsulation:0,styles:[["ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{background-color:var(--ion-color-secondary)}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:47px}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-buttons[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;color:#fff;font-size:16px;font-style:normal;font-weight:700;line-height:normal}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-buttons[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{width:47px}ion-header[_ngcontent-%COMP%]::after{display:none}ion-content[_ngcontent-%COMP%]   .content-limpar[_ngcontent-%COMP%]{position:absolute}ion-content[_ngcontent-%COMP%]   .content-limpar[_ngcontent-%COMP%]   .limpar-notificacoes[_ngcontent-%COMP%]{position:fixed;height:44px;width:44px;border-radius:50%;background:#fff;top:81%;left:45%;display:flex;align-items:center;justify-content:center;box-shadow:0 0 14px 0 rgba(0,0,0,.25);opacity:.7}ion-content[_ngcontent-%COMP%]   .content-limpar[_ngcontent-%COMP%]   .limpar-notificacoes[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-secondary)}ion-content[_ngcontent-%COMP%]   .content-notificacoes[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;padding:16px}ion-content[_ngcontent-%COMP%]   .content-notificacoes[_ngcontent-%COMP%]   .content-notificacao[_ngcontent-%COMP%]{border-radius:10px;background:#fff;display:flow;min-height:80px;padding:12px;border:1px solid #dbdada}ion-content[_ngcontent-%COMP%]   .content-notificacoes[_ngcontent-%COMP%]   .content-notificacao[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{display:flex}ion-content[_ngcontent-%COMP%]   .content-notificacoes[_ngcontent-%COMP%]   .content-notificacao[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .titulo[_ngcontent-%COMP%]{display:flex;color:#1e1e1e;font-size:12px;font-style:normal;font-weight:700;line-height:normal;width:70%}ion-content[_ngcontent-%COMP%]   .content-notificacoes[_ngcontent-%COMP%]   .content-notificacao[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:flex-start;color:#9e9e9e;font-family:Poppins;font-size:8px;font-style:normal;font-weight:400;line-height:normal;width:30%}ion-content[_ngcontent-%COMP%]   .content-notificacoes[_ngcontent-%COMP%]   .content-notificacao[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .data-content[_ngcontent-%COMP%]{display:flow}ion-content[_ngcontent-%COMP%]   .content-notificacoes[_ngcontent-%COMP%]   .content-notificacao[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .data-content[_ngcontent-%COMP%]   .data-text[_ngcontent-%COMP%], ion-content[_ngcontent-%COMP%]   .content-notificacoes[_ngcontent-%COMP%]   .content-notificacao[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .data-content[_ngcontent-%COMP%]   .dia-semana[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}ion-content[_ngcontent-%COMP%]   .content-notificacoes[_ngcontent-%COMP%]   .content-notificacao[_ngcontent-%COMP%]   .mensagem[_ngcontent-%COMP%]{display:flex;color:#484848;font-size:10px;font-style:normal;font-weight:400;line-height:normal}.medium[_ngcontent-%COMP%]{background:#92949c}"]],data:{}});function p(n){return o.Kb(0,[(n()(),o.rb(0,0,null,null,11,"div",[["class","content-notificacao"]],null,null,null,null,null)),(n()(),o.rb(1,0,null,null,8,"div",[["class","content"]],null,null,null,null,null)),(n()(),o.rb(2,0,null,null,1,"div",[["class","titulo"]],null,null,null,null,null)),(n()(),o.Jb(3,null,["",""])),(n()(),o.rb(4,0,null,null,5,"div",[["class","data"]],null,null,null,null,null)),(n()(),o.rb(5,0,null,null,4,"div",[["class","data-content"]],null,null,null,null,null)),(n()(),o.rb(6,0,null,null,1,"div",[["class","dia-semana"]],null,null,null,null,null)),(n()(),o.Jb(7,null,["",""])),(n()(),o.rb(8,0,null,null,1,"div",[["class","data-text"]],null,null,null,null,null)),(n()(),o.Jb(9,null,["",""])),(n()(),o.rb(10,0,null,null,1,"div",[["class","mensagem"]],null,null,null,null,null)),(n()(),o.Jb(11,null,["",""]))],null,(function(n,t){n(t,3,0,t.context.$implicit.titulo),n(t,7,0,t.context.$implicit.minutos_disparo?"H\xe1 "+t.context.$implicit.minutos_disparo+" minutos":t.context.$implicit.dia_semana_disparo),n(t,9,0,t.context.$implicit.data_disparo),n(t,11,0,t.context.$implicit.mensagem)}))}function _(n){return o.Kb(0,[(n()(),o.rb(0,0,null,null,12,"ion-header",[],null,null,null,c.lb,c.p)),o.qb(1,49152,null,0,a.D,[o.h,o.l,o.y],null,null),(n()(),o.rb(2,0,null,0,10,"ion-toolbar",[["color","secondary"]],null,null,null,c.Rb,c.V)),o.qb(3,49152,null,0,a.Bb,[o.h,o.l,o.y],{color:[0,"color"]},null),(n()(),o.rb(4,0,null,0,8,"ion-buttons",[],null,null,null,c.bb,c.f)),o.qb(5,49152,null,0,a.n,[o.h,o.l,o.y],null,null),(n()(),o.rb(6,0,null,0,3,"ion-button",[],null,null,null,c.ab,c.e)),o.qb(7,49152,null,0,a.m,[o.h,o.l,o.y],null,null),(n()(),o.rb(8,0,null,0,1,"ion-menu-button",[],null,null,null,c.wb,c.B)),o.qb(9,49152,null,0,a.T,[o.h,o.l,o.y],null,null),(n()(),o.rb(10,0,null,0,1,"div",[["class","title"]],null,null,null,null,null)),(n()(),o.Jb(-1,null,["Notifica\xe7\xf5es"])),(n()(),o.rb(12,0,null,0,0,"div",[["class","space"]],null,null,null,null,null)),(n()(),o.rb(13,0,null,null,4,"ion-content",[["class",""]],null,null,null,c.ib,c.m)),o.qb(14,49152,null,0,a.w,[o.h,o.l,o.y],null,null),(n()(),o.rb(15,0,null,0,2,"div",[["class","content-notificacoes"]],null,null,null,null,null)),(n()(),o.gb(16777216,null,null,1,null,p)),o.qb(17,278528,null,0,u.i,[o.O,o.K,o.r],{ngForOf:[0,"ngForOf"]},null)],(function(n,t){var l=t.component;n(t,3,0,"secondary"),n(t,17,0,l.notificacoes)}),null)}function O(n){return o.Kb(0,[(n()(),o.rb(0,0,null,null,1,"app-clube-notificacoes",[],null,null,null,_,b)),o.qb(1,114688,null,0,f,[a.Ib,s.a,r.a,g.a,d.a],null,null)],(function(n,t){n(t,1,0)}),null)}var C=o.nb("app-clube-notificacoes",f,O,{},{},[]),M=l("s7LF"),P=l("iInd");class m{}l.d(t,"ClubeNotificacoesPageModuleNgFactory",(function(){return h}));var h=o.ob(e,[],(function(n){return o.Ab([o.Bb(512,o.k,o.Z,[[8,[i.a,C]],[3,o.k],o.w]),o.Bb(4608,u.l,u.k,[o.t,[2,u.y]]),o.Bb(4608,M.l,M.l,[]),o.Bb(4608,a.c,a.c,[o.y,o.g]),o.Bb(4608,a.Hb,a.Hb,[a.c,o.k,o.q]),o.Bb(4608,a.Lb,a.Lb,[a.c,o.k,o.q]),o.Bb(1073742336,u.b,u.b,[]),o.Bb(1073742336,M.k,M.k,[]),o.Bb(1073742336,M.e,M.e,[]),o.Bb(1073742336,a.Db,a.Db,[]),o.Bb(1073742336,P.p,P.p,[[2,P.u],[2,P.m]]),o.Bb(1073742336,m,m,[]),o.Bb(1073742336,e,e,[]),o.Bb(1024,P.k,(function(){return[[{path:"",component:f}]]}),[])])}))}}]);