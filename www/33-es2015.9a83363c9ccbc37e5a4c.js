(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{g73H:function(l,n,t){"use strict";t.r(n);var o=t("8Y7J");class u{}var e=t("pMnS"),i=t("MKJQ"),a=t("sZkV"),s=t("SVse"),r=t("H+bZ"),c=t("qfBg"),b=t("6mc2"),h=t("EnSQ");class d{constructor(l,n,t,o,u,e){this.navCtrl=l,this.loadingController=n,this.api=t,this.user=o,this.tools=u,this.data=e,this.lista=[],this.lojas=[],this.meses=[]}ngOnInit(){this.loadData();for(var l=[{id:0,mes:"Janeiro",ano:""},{id:1,mes:"Fevereiro",ano:""},{id:2,mes:"Mar\xe7o",ano:""},{id:3,mes:"Abril",ano:""},{id:4,mes:"Maio",ano:""},{id:5,mes:"Junho",ano:""},{id:6,mes:"Julho",ano:""},{id:7,mes:"Agosto",ano:""},{id:8,mes:"Setembro",ano:""},{id:9,mes:"Outubro",ano:""},{id:10,mes:"Novembro",ano:""},{id:11,mes:"Dezembro",ano:""}],n=0;n>=-3;n--){var t=new Date,o=new Date(t.setMonth(t.getMonth()+n)).getMonth(),u=l.find(l=>l.id==o);u.ano=new Date(new Date(t.setMonth(t.getMonth()+n))).toLocaleDateString("pt-BR").slice(-2),this.meses.push(u)}}loadData(){var l=this.user.getUsuarioClube(),n="";l&&l.dados&&l.dados.cpf&&(n=l.dados.cpf),this.api.clube("listarcompras",{cpf:n},l=>{console.log("[Historico-compras]: ",l.data),this.lista=l.data})}open(l){var n=this.lista.filter(n=>n.data.split("/"+("00"+(l.id+1)).slice(-2)+"/").length>1);console.log(n),this.data.setData("historico",n),this.data.setData("mesSelect",l),this.navCtrl.navigateForward("/clube-historico2")}close(){console.log(this.data.getData("historico"))}}var m=o.pb({encapsulation:0,styles:[[".item[_ngcontent-%COMP%]{color:#009efa;display:flex;justify-content:space-between;align-items:center;padding:8px 0}.item[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:800}.item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:22px}"]],data:{}});function p(l){return o.Kb(0,[(l()(),o.rb(0,0,null,null,8,"ion-card",[],null,[[null,"click"]],(function(l,n,t){var o=!0;return"click"===n&&(o=!1!==l.component.open(l.context.$implicit)&&o),o}),i.fb,i.g)),o.qb(1,49152,null,0,a.o,[o.h,o.l,o.y],null,null),(l()(),o.rb(2,0,null,0,6,"ion-card-content",[],null,null,null,i.cb,i.h)),o.qb(3,49152,null,0,a.p,[o.h,o.l,o.y],null,null),(l()(),o.rb(4,0,null,0,4,"div",[["class","item"]],null,null,null,null,null)),(l()(),o.rb(5,0,null,null,1,"h1",[],null,null,null,null,null)),(l()(),o.Jb(6,null,["","/",""])),(l()(),o.rb(7,0,null,null,1,"ion-icon",[["name","chevron-forward-outline"]],null,null,null,i.mb,i.q)),o.qb(8,49152,null,0,a.E,[o.h,o.l,o.y],{name:[0,"name"]},null)],(function(l,n){l(n,8,0,"chevron-forward-outline")}),(function(l,n){l(n,6,0,n.context.$implicit.mes,n.context.$implicit.ano)}))}function f(l){return o.Kb(0,[(l()(),o.rb(0,0,null,null,11,"ion-header",[],null,null,null,i.lb,i.p)),o.qb(1,49152,null,0,a.D,[o.h,o.l,o.y],null,null),(l()(),o.rb(2,0,null,0,9,"ion-toolbar",[["color","secondary"]],null,null,null,i.Rb,i.V)),o.qb(3,49152,null,0,a.Bb,[o.h,o.l,o.y],{color:[0,"color"]},null),(l()(),o.rb(4,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,i.bb,i.f)),o.qb(5,49152,null,0,a.n,[o.h,o.l,o.y],null,null),(l()(),o.rb(6,0,null,0,2,"ion-back-button",[],null,[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=!1!==o.Db(l,8).onClick(t)&&u),u}),i.Y,i.c)),o.qb(7,49152,null,0,a.i,[o.h,o.l,o.y],null,null),o.qb(8,16384,null,0,a.j,[[2,a.hb],a.Ib,a.e],null,null),(l()(),o.rb(9,0,null,0,2,"ion-title",[],null,null,null,i.Pb,i.T)),o.qb(10,49152,null,0,a.zb,[o.h,o.l,o.y],null,null),(l()(),o.Jb(-1,0,["Hist\xf3rico de Compras"])),(l()(),o.rb(12,0,null,null,3,"ion-content",[],null,null,null,i.ib,i.m)),o.qb(13,49152,null,0,a.w,[o.h,o.l,o.y],null,null),(l()(),o.gb(16777216,null,0,1,null,p)),o.qb(15,278528,null,0,s.i,[o.O,o.K,o.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var t=n.component;l(n,3,0,"secondary"),l(n,15,0,t.meses)}),null)}function g(l){return o.Kb(0,[(l()(),o.rb(0,0,null,null,1,"app-clube-historico",[],null,null,null,f,m)),o.qb(1,114688,null,0,d,[a.Ib,a.Fb,r.a,c.a,b.a,h.a],null,null)],(function(l,n){l(n,1,0)}),null)}var v=o.nb("app-clube-historico",d,g,{},{},[]),k=t("s7LF"),w=t("iInd");class y{}t.d(n,"ClubeHistoricoPageModuleNgFactory",(function(){return B}));var B=o.ob(u,[],(function(l){return o.Ab([o.Bb(512,o.k,o.Z,[[8,[e.a,v]],[3,o.k],o.w]),o.Bb(4608,s.l,s.k,[o.t,[2,s.y]]),o.Bb(4608,k.l,k.l,[]),o.Bb(4608,a.c,a.c,[o.y,o.g]),o.Bb(4608,a.Hb,a.Hb,[a.c,o.k,o.q]),o.Bb(4608,a.Lb,a.Lb,[a.c,o.k,o.q]),o.Bb(1073742336,s.b,s.b,[]),o.Bb(1073742336,k.k,k.k,[]),o.Bb(1073742336,k.e,k.e,[]),o.Bb(1073742336,a.Db,a.Db,[]),o.Bb(1073742336,w.p,w.p,[[2,w.u],[2,w.m]]),o.Bb(1073742336,y,y,[]),o.Bb(1073742336,u,u,[]),o.Bb(1024,w.k,(function(){return[[{path:"",component:d}]]}),[])])}))}}]);