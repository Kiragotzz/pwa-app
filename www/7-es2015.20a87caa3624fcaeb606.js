(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{LoTd:function(l,n,o){"use strict";o.r(n);var t=o("8Y7J");class e{}var a=o("pMnS"),i=o("MKJQ"),s=o("sZkV"),u=o("mrSG"),r=o("+QuK"),c=o("qfBg"),d=o("H+bZ"),b=o("6mc2"),g=o("EnSQ"),p=o("Mzne"),h=o("Xy6G");class f{constructor(l,n,o,t,e,a,i,s,u,r){this.alertController=l,this.navCtrl=n,this.platform=o,this.iab=t,this.api=e,this.user=a,this.tools=i,this.modalController=s,this.data=u,this.router=r,this.usuario={dados:{loja:""}},this.lojas=[],this.lojasText="",this.tabloide={urlimg:""},this.sliderConfig={spaceBetween:10,slidesPerView:1,centeredSlides:!0,initialSlide:0}}ngOnInit(){this.usuario=this.user.getUsuarioClube(),this.loadData()}ionViewDidEnter(){this.tools.eventGHFly("btn_tabloide_digital");var l=this.data.getData("selLoja");console.log("selLoja: ",l),l&&(this.loja=l,this.usuario.dados.loja=l.nomeApresentacao,this.usuario.dados.lojaId=l._id+"",this.loadData())}loadData(){console.log("loadData"),!this.usuario.dados||this.loja&&""!=this.loja||(this.loja=this.usuario.dados.loja),this.api.clube("gettabloide",{lojaId:this.usuario.dados.lojaId},l=>{console.log("[TABLOIDES]: ",l),l.data[0]&&(this.tabloide=l.data[0],this.lojasText=this.tabloide.lojas.join(", "))})}openTabloide(){if(this.tabloide.urlimg){this.router.send({cmd:"loading",loading:!0});var l=this.tabloide.urlimg+"";console.log("url: ",l);var n="tabloide"+(new Date).getTime()+".pdf";this.tabloide&&this.tabloide.files&&this.tabloide.files[0]&&(n=(n=this.tabloide.files[0].fileId+".pdf").replace("fileImagens","Tabloide")),console.log("filename: ",n),this.tools.downloadFile(l,n,l=>{console.log("result: ",l),this.router.send({cmd:"loading",loading:!1}),l.status?this.tools.openFile(l.diretory):this.tools.showAlert("","Erro ao baixar o arquivo!")})}else this.tools.showAlert("","Tabl\xf3ide n\xe3o encontrado.")}openTabloide2(){this.tabloide.urlimg?this.iab.create(`https://docs.google.com/viewer?url=${this.tabloide.urlimg+""}&embedded=true`,"_system"):this.tools.showAlert("","Tabl\xf3ide n\xe3o encontrado.")}selLoja(){this.data.setData("selLoja",{origem:"/clube-tabloides",loja:null}),this.navCtrl.navigateForward("/clube/clube/clube-selloja")}openSelectLoja(){return u.__awaiter(this,void 0,void 0,(function*(){const l=yield this.modalController.create({component:h.a,cssClass:"my-custom-class",componentProps:{origem:"/clube/clube/clube-home"}});yield l.present();const{data:n}=yield l.onWillDismiss();console.log("dismiss, data: ",n),this.loja.nomeApresentacao=n.nomeApresentacao?n.nomeApresentacao:this.loja.nomeApresentacao,this.loja.lojaId=n.lojaId?n.lojaId:this.loja.lojaId,this.usuario.dados.lojaId=this.loja.lojaId,this.loadData()}))}}var m=t.pb({encapsulation:0,styles:[["ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   .button-back[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#fff;height:24px;width:24px}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;justify-content:center;color:#fff;font-size:16px;font-style:normal;font-weight:700;line-height:normal}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{width:47px}ion-header[_ngcontent-%COMP%]   .select-lojas[_ngcontent-%COMP%]{height:33px;position:absolute;left:0;width:100%;background-color:var(--ion-color-primary);align-items:center;display:flex;color:#fff;text-align:center;font-size:12px;font-style:normal;font-weight:400;line-height:normal}ion-header[_ngcontent-%COMP%]   .select-lojas[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{display:flex;padding:10px 16px}ion-header[_ngcontent-%COMP%]   .select-lojas[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:flex;width:100%;text-align:center}.tabloide-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:49px 16px 16px}.tabloide-content[_ngcontent-%COMP%]   .content-image[_ngcontent-%COMP%]{border-radius:10px;background:#fff;box-shadow:0 0 14px 0 rgba(0,0,0,.25);display:flex;flex-direction:column;margin-bottom:24px}.tabloide-content[_ngcontent-%COMP%]   .content-image[_ngcontent-%COMP%]   .header-tabloide[_ngcontent-%COMP%]{color:#1e1e1e;text-align:center;font-family:Poppins;font-size:16px;font-style:normal;font-weight:700;line-height:normal;padding:16px}.tabloide-content[_ngcontent-%COMP%]   .content-image[_ngcontent-%COMP%]   .image-tabloide[_ngcontent-%COMP%]{height:454px;width:-webkit-fill-available;-o-object-fit:cover;object-fit:cover;-o-object-position:top;object-position:top}.tabloide-content[_ngcontent-%COMP%]   .content-image[_ngcontent-%COMP%]   .footer-tabloide[_ngcontent-%COMP%]{background-color:var(--ion-color-secondary);border-radius:0 0 10px 10px;color:#fff;font-size:10px;padding:16px}.tabloide-content[_ngcontent-%COMP%]   .btn-open-tabloide[_ngcontent-%COMP%]{border-radius:30px;background:var(--ion-color-secondary);padding:15px 68px;color:#fcfcfc;font-family:Poppins;font-size:12px;font-style:normal;font-weight:700;line-height:normal;text-align:center;margin:auto}.tabloide-content[_ngcontent-%COMP%]   .loja-select[_ngcontent-%COMP%]{background:#fff;border-radius:20px;padding:16px;margin-bottom:16px;color:var(--ion-color-secondary);font-weight:600;text-transform:uppercase;font-size:1rem;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);display:flex;justify-content:space-between;align-items:center}.tabloide-content[_ngcontent-%COMP%]   .loja-select[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.5rem}ion-slides[_ngcontent-%COMP%]{border-radius:20px;overflow:hidden}"]],data:{}});function x(l){return t.Kb(0,[(l()(),t.rb(0,0,null,null,18,"ion-header",[],null,null,null,i.lb,i.p)),t.qb(1,49152,null,0,s.D,[t.h,t.l,t.y],null,null),(l()(),t.rb(2,0,null,0,9,"ion-toolbar",[["color","secondary"]],null,null,null,i.Rb,i.V)),t.qb(3,49152,null,0,s.Bb,[t.h,t.l,t.y],{color:[0,"color"]},null),(l()(),t.rb(4,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,i.bb,i.f)),t.qb(5,49152,null,0,s.n,[t.h,t.l,t.y],null,null),(l()(),t.rb(6,0,null,0,2,"ion-back-button",[],null,[[null,"click"]],(function(l,n,o){var e=!0;return"click"===n&&(e=!1!==t.Db(l,8).onClick(o)&&e),e}),i.Y,i.c)),t.qb(7,49152,null,0,s.i,[t.h,t.l,t.y],null,null),t.qb(8,16384,null,0,s.j,[[2,s.hb],s.Ib,s.e],null,null),(l()(),t.rb(9,0,null,0,1,"div",[["class","title"]],null,null,null,null,null)),(l()(),t.Jb(-1,null,["Tabl\xf3ide Digital"])),(l()(),t.rb(11,0,null,0,0,"div",[["class","space"],["slot","end"]],null,null,null,null,null)),(l()(),t.rb(12,0,null,0,6,"div",[["class","select-lojas"]],null,[[null,"click"]],(function(l,n,o){var t=!0;return"click"===n&&(t=!1!==l.component.openSelectLoja()&&t),t}),null,null)),(l()(),t.rb(13,0,null,null,1,"ion-icon",[["name","location"],["style","font-size: 20px;"]],null,null,null,i.mb,i.q)),t.qb(14,49152,null,0,s.E,[t.h,t.l,t.y],{name:[0,"name"]},null),(l()(),t.rb(15,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t.Jb(16,null,["Loja ",""])),(l()(),t.rb(17,0,null,null,1,"ion-icon",[["name","caret-down-outline"]],null,null,null,i.mb,i.q)),t.qb(18,49152,null,0,s.E,[t.h,t.l,t.y],{name:[0,"name"]},null),(l()(),t.rb(19,0,null,null,10,"ion-content",[],null,null,null,i.ib,i.m)),t.qb(20,49152,null,0,s.w,[t.h,t.l,t.y],null,null),(l()(),t.rb(21,0,null,0,8,"div",[["class","tabloide-content"]],null,null,null,null,null)),(l()(),t.rb(22,0,null,null,5,"div",[["class","content-image"]],null,[[null,"click"]],(function(l,n,o){var t=!0;return"click"===n&&(t=!1!==l.component.openTabloide()&&t),t}),null,null)),(l()(),t.rb(23,0,null,null,1,"div",[["class","header-tabloide"]],null,null,null,null,null)),(l()(),t.Jb(24,null,["",""])),(l()(),t.rb(25,0,null,null,0,"img",[["alt",""],["class","image-tabloide"]],[[8,"src",4]],null,null,null,null)),(l()(),t.rb(26,0,null,null,1,"div",[["class","footer-tabloide"]],null,null,null,null,null)),(l()(),t.Jb(27,null,["",""])),(l()(),t.rb(28,0,null,null,1,"div",[["class","btn-open-tabloide"],["expand","block"]],null,[[null,"click"]],(function(l,n,o){var t=!0;return"click"===n&&(t=!1!==l.component.openTabloide2()&&t),t}),null,null)),(l()(),t.Jb(-1,null,["Clique para ampliar"]))],(function(l,n){l(n,3,0,"secondary"),l(n,14,0,"location"),l(n,18,0,"caret-down-outline")}),(function(l,n){var o=n.component;l(n,16,0,o.loja.nomeApresentacao),l(n,24,0,o.tabloide.nome),l(n,25,0,o.tabloide.url),l(n,27,0,"*Ofertas v\xe1lidas para as lojas "+o.lojasText+", de "+o.tabloide.dataInicial+" a "+o.tabloide.dataFinal+" ou enquanto durarem os estoques. Imagens meramente ilustrativas.")}))}function j(l){return t.Kb(0,[(l()(),t.rb(0,0,null,null,1,"app-clube-tabloides",[],null,null,null,x,m)),t.qb(1,114688,null,0,f,[s.b,s.Ib,s.Kb,r.a,d.a,c.a,b.a,s.Hb,g.a,p.a],null,null)],(function(l,n){l(n,1,0)}),null)}var C=t.nb("app-clube-tabloides",f,j,{},{},[]),_=o("SVse"),P=o("s7LF"),M=o("iInd");class O{}o.d(n,"ClubeTabloidesPageModuleNgFactory",(function(){return y}));var y=t.ob(e,[],(function(l){return t.Ab([t.Bb(512,t.k,t.Z,[[8,[a.a,C]],[3,t.k],t.w]),t.Bb(4608,_.l,_.k,[t.t,[2,_.y]]),t.Bb(4608,P.l,P.l,[]),t.Bb(4608,s.c,s.c,[t.y,t.g]),t.Bb(4608,s.Hb,s.Hb,[s.c,t.k,t.q]),t.Bb(4608,s.Lb,s.Lb,[s.c,t.k,t.q]),t.Bb(1073742336,_.b,_.b,[]),t.Bb(1073742336,P.k,P.k,[]),t.Bb(1073742336,P.e,P.e,[]),t.Bb(1073742336,s.Db,s.Db,[]),t.Bb(1073742336,M.p,M.p,[[2,M.u],[2,M.m]]),t.Bb(1073742336,O,O,[]),t.Bb(1073742336,e,e,[]),t.Bb(1024,M.k,(function(){return[[{path:"",component:f}]]}),[])])}))}}]);