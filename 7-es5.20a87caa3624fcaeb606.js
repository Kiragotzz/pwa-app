function _regeneratorRuntime(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function(){return n};var t,n={},e=Object.prototype,o=e.hasOwnProperty,l=Object.defineProperty||function(t,n,e){t[n]=e.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function u(t,n,e){return Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[n]}try{u({},"")}catch(t){u=function(t,n,e){return t[n]=e}}function s(t,n,e,o){var r=n&&n.prototype instanceof g?n:g,i=Object.create(r.prototype),a=new L(o||[]);return l(i,"_invoke",{value:P(t,e,a)}),i}function d(t,n,e){try{return{type:"normal",arg:t.call(n,e)}}catch(t){return{type:"throw",arg:t}}}n.wrap=s;var f="suspendedStart",h="executing",p="completed",b={};function g(){}function m(){}function y(){}var v={};u(v,i,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(E([])));x&&x!==e&&o.call(x,i)&&(v=x);var _=y.prototype=g.prototype=Object.create(v);function j(t){["next","throw","return"].forEach((function(n){u(t,n,(function(t){return this._invoke(n,t)}))}))}function C(t,n){function e(l,r,i,a){var c=d(t[l],t,r);if("throw"!==c.type){var u=c.arg,s=u.value;return s&&"object"==typeof s&&o.call(s,"__await")?n.resolve(s.__await).then((function(t){e("next",t,i,a)}),(function(t){e("throw",t,i,a)})):n.resolve(s).then((function(t){u.value=t,i(u)}),(function(t){return e("throw",t,i,a)}))}a(c.arg)}var r;l(this,"_invoke",{value:function(t,o){function l(){return new n((function(n,l){e(t,o,n,l)}))}return r=r?r.then(l,l):l()}})}function P(n,e,o){var l=f;return function(r,i){if(l===h)throw Error("Generator is already running");if(l===p){if("throw"===r)throw i;return{value:t,done:!0}}for(o.method=r,o.arg=i;;){var a=o.delegate;if(a){var c=O(a,o);if(c){if(c===b)continue;return c}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(l===f)throw l=p,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);l=h;var u=d(n,e,o);if("normal"===u.type){if(l=o.done?p:"suspendedYield",u.arg===b)continue;return{value:u.arg,done:o.done}}"throw"===u.type&&(l=p,o.method="throw",o.arg=u.arg)}}}function O(n,e){var o=e.method,l=n.iterator[o];if(l===t)return e.delegate=null,"throw"===o&&n.iterator.return&&(e.method="return",e.arg=t,O(n,e),"throw"===e.method)||"return"!==o&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+o+"' method")),b;var r=d(l,n.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,b;var i=r.arg;return i?i.done?(e[n.resultName]=i.value,e.next=n.nextLoc,"return"!==e.method&&(e.method="next",e.arg=t),e.delegate=null,b):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,b)}function k(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function M(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function E(n){if(n||""===n){var e=n[i];if(e)return e.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var l=-1,r=function e(){for(;++l<n.length;)if(o.call(n,l))return e.value=n[l],e.done=!1,e;return e.value=t,e.done=!0,e};return r.next=r}}throw new TypeError(typeof n+" is not iterable")}return m.prototype=y,l(_,"constructor",{value:y,configurable:!0}),l(y,"constructor",{value:m,configurable:!0}),m.displayName=u(y,c,"GeneratorFunction"),n.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===m||"GeneratorFunction"===(n.displayName||n.name))},n.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,c,"GeneratorFunction")),t.prototype=Object.create(_),t},n.awrap=function(t){return{__await:t}},j(C.prototype),u(C.prototype,a,(function(){return this})),n.AsyncIterator=C,n.async=function(t,e,o,l,r){void 0===r&&(r=Promise);var i=new C(s(t,e,o,l),r);return n.isGeneratorFunction(e)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},j(_),u(_,c,"Generator"),u(_,i,(function(){return this})),u(_,"toString",(function(){return"[object Generator]"})),n.keys=function(t){var n=Object(t),e=[];for(var o in n)e.push(o);return e.reverse(),function t(){for(;e.length;){var o=e.pop();if(o in n)return t.value=o,t.done=!1,t}return t.done=!0,t}},n.values=E,L.prototype={constructor:L,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(M),!n)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var e=this;function l(o,l){return a.type="throw",a.arg=n,e.next=o,l&&(e.method="next",e.arg=t),!!l}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],a=i.completion;if("root"===i.tryLoc)return l("end");if(i.tryLoc<=this.prev){var c=o.call(i,"catchLoc"),u=o.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return l(i.catchLoc,!0);if(this.prev<i.finallyLoc)return l(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return l(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return l(i.finallyLoc)}}}},abrupt:function(t,n){for(var e=this.tryEntries.length-1;e>=0;--e){var l=this.tryEntries[e];if(l.tryLoc<=this.prev&&o.call(l,"finallyLoc")&&this.prev<l.finallyLoc){var r=l;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=n&&n<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=t,i.arg=n,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(i)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),b},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),M(e),b}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.tryLoc===t){var o=e.completion;if("throw"===o.type){var l=o.arg;M(e)}return l}}throw Error("illegal catch attempt")},delegateYield:function(n,e,o){return this.delegate={iterator:E(n),resultName:e,nextLoc:o},"next"===this.method&&(this.arg=t),b}},n}function _defineProperties(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey(o.key),o)}}function _createClass(t,n,e){return n&&_defineProperties(t.prototype,n),e&&_defineProperties(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _toPropertyKey(t){var n=_toPrimitive(t,"string");return"symbol"==typeof n?n:n+""}function _toPrimitive(t,n){if("object"!=typeof t||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var o=e.call(t,n||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}function _classCallCheck(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{LoTd:function(t,n,e){"use strict";e.r(n);var o=e("8Y7J"),l=_createClass((function t(){_classCallCheck(this,t)})),r=e("pMnS"),i=e("MKJQ"),a=e("sZkV"),c=e("mrSG"),u=e("+QuK"),s=e("qfBg"),d=e("H+bZ"),f=e("6mc2"),h=e("EnSQ"),p=e("Mzne"),b=e("Xy6G"),g=function(){return _createClass((function t(n,e,o,l,r,i,a,c,u,s){_classCallCheck(this,t),this.alertController=n,this.navCtrl=e,this.platform=o,this.iab=l,this.api=r,this.user=i,this.tools=a,this.modalController=c,this.data=u,this.router=s,this.usuario={dados:{loja:""}},this.lojas=[],this.lojasText="",this.tabloide={urlimg:""},this.sliderConfig={spaceBetween:10,slidesPerView:1,centeredSlides:!0,initialSlide:0}}),[{key:"ngOnInit",value:function(){this.usuario=this.user.getUsuarioClube(),this.loadData()}},{key:"ionViewDidEnter",value:function(){this.tools.eventGHFly("btn_tabloide_digital");var t=this.data.getData("selLoja");console.log("selLoja: ",t),t&&(this.loja=t,this.usuario.dados.loja=t.nomeApresentacao,this.usuario.dados.lojaId=t._id+"",this.loadData())}},{key:"loadData",value:function(){var t=this;console.log("loadData"),!this.usuario.dados||this.loja&&""!=this.loja||(this.loja=this.usuario.dados.loja),this.api.clube("gettabloide",{lojaId:this.usuario.dados.lojaId},(function(n){console.log("[TABLOIDES]: ",n),n.data[0]&&(t.tabloide=n.data[0],t.lojasText=t.tabloide.lojas.join(", "))}))}},{key:"openTabloide",value:function(){var t=this;if(this.tabloide.urlimg){this.router.send({cmd:"loading",loading:!0});var n=this.tabloide.urlimg+"";console.log("url: ",n);var e="tabloide"+(new Date).getTime()+".pdf";this.tabloide&&this.tabloide.files&&this.tabloide.files[0]&&(e=(e=this.tabloide.files[0].fileId+".pdf").replace("fileImagens","Tabloide")),console.log("filename: ",e),this.tools.downloadFile(n,e,(function(n){console.log("result: ",n),t.router.send({cmd:"loading",loading:!1}),n.status?t.tools.openFile(n.diretory):t.tools.showAlert("","Erro ao baixar o arquivo!")}))}else this.tools.showAlert("","Tabl\xf3ide n\xe3o encontrado.")}},{key:"openTabloide2",value:function(){this.tabloide.urlimg?this.iab.create("https://docs.google.com/viewer?url=".concat(this.tabloide.urlimg+"","&embedded=true"),"_system"):this.tools.showAlert("","Tabl\xf3ide n\xe3o encontrado.")}},{key:"selLoja",value:function(){this.data.setData("selLoja",{origem:"/clube-tabloides",loja:null}),this.navCtrl.navigateForward("/clube/clube/clube-selloja")}},{key:"openSelectLoja",value:function(){return c.__awaiter(this,void 0,void 0,_regeneratorRuntime().mark((function t(){var n,e,o;return _regeneratorRuntime().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalController.create({component:b.a,cssClass:"my-custom-class",componentProps:{origem:"/clube/clube/clube-home"}});case 2:return n=t.sent,t.next=5,n.present();case 5:return t.next=7,n.onWillDismiss();case 7:e=t.sent,o=e.data,console.log("dismiss, data: ",o),this.loja.nomeApresentacao=o.nomeApresentacao?o.nomeApresentacao:this.loja.nomeApresentacao,this.loja.lojaId=o.lojaId?o.lojaId:this.loja.lojaId,this.usuario.dados.lojaId=this.loja.lojaId,this.loadData();case 10:case"end":return t.stop()}}),t,this)})))}}])}(),m=o.pb({encapsulation:0,styles:[["ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   ion-buttons[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   .button-back[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#fff;height:24px;width:24px}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;justify-content:center;color:#fff;font-size:16px;font-style:normal;font-weight:700;line-height:normal}ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]   .space[_ngcontent-%COMP%]{width:47px}ion-header[_ngcontent-%COMP%]   .select-lojas[_ngcontent-%COMP%]{height:33px;position:absolute;left:0;width:100%;background-color:var(--ion-color-primary);align-items:center;display:flex;color:#fff;text-align:center;font-size:12px;font-style:normal;font-weight:400;line-height:normal}ion-header[_ngcontent-%COMP%]   .select-lojas[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{display:flex;padding:10px 16px}ion-header[_ngcontent-%COMP%]   .select-lojas[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:flex;width:100%;text-align:center}.tabloide-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:49px 16px 16px}.tabloide-content[_ngcontent-%COMP%]   .content-image[_ngcontent-%COMP%]{border-radius:10px;background:#fff;box-shadow:0 0 14px 0 rgba(0,0,0,.25);display:flex;flex-direction:column;margin-bottom:24px}.tabloide-content[_ngcontent-%COMP%]   .content-image[_ngcontent-%COMP%]   .header-tabloide[_ngcontent-%COMP%]{color:#1e1e1e;text-align:center;font-family:Poppins;font-size:16px;font-style:normal;font-weight:700;line-height:normal;padding:16px}.tabloide-content[_ngcontent-%COMP%]   .content-image[_ngcontent-%COMP%]   .image-tabloide[_ngcontent-%COMP%]{height:454px;width:-webkit-fill-available;-o-object-fit:cover;object-fit:cover;-o-object-position:top;object-position:top}.tabloide-content[_ngcontent-%COMP%]   .content-image[_ngcontent-%COMP%]   .footer-tabloide[_ngcontent-%COMP%]{background-color:var(--ion-color-secondary);border-radius:0 0 10px 10px;color:#fff;font-size:10px;padding:16px}.tabloide-content[_ngcontent-%COMP%]   .btn-open-tabloide[_ngcontent-%COMP%]{border-radius:30px;background:var(--ion-color-secondary);padding:15px 68px;color:#fcfcfc;font-family:Poppins;font-size:12px;font-style:normal;font-weight:700;line-height:normal;text-align:center;margin:auto}.tabloide-content[_ngcontent-%COMP%]   .loja-select[_ngcontent-%COMP%]{background:#fff;border-radius:20px;padding:16px;margin-bottom:16px;color:var(--ion-color-secondary);font-weight:600;text-transform:uppercase;font-size:1rem;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);display:flex;justify-content:space-between;align-items:center}.tabloide-content[_ngcontent-%COMP%]   .loja-select[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.5rem}ion-slides[_ngcontent-%COMP%]{border-radius:20px;overflow:hidden}"]],data:{}});function y(t){return o.Kb(0,[(t()(),o.rb(0,0,null,null,18,"ion-header",[],null,null,null,i.lb,i.p)),o.qb(1,49152,null,0,a.D,[o.h,o.l,o.y],null,null),(t()(),o.rb(2,0,null,0,9,"ion-toolbar",[["color","secondary"]],null,null,null,i.Rb,i.V)),o.qb(3,49152,null,0,a.Bb,[o.h,o.l,o.y],{color:[0,"color"]},null),(t()(),o.rb(4,0,null,0,4,"ion-buttons",[["slot","start"]],null,null,null,i.bb,i.f)),o.qb(5,49152,null,0,a.n,[o.h,o.l,o.y],null,null),(t()(),o.rb(6,0,null,0,2,"ion-back-button",[],null,[[null,"click"]],(function(t,n,e){var l=!0;return"click"===n&&(l=!1!==o.Db(t,8).onClick(e)&&l),l}),i.Y,i.c)),o.qb(7,49152,null,0,a.i,[o.h,o.l,o.y],null,null),o.qb(8,16384,null,0,a.j,[[2,a.hb],a.Ib,a.e],null,null),(t()(),o.rb(9,0,null,0,1,"div",[["class","title"]],null,null,null,null,null)),(t()(),o.Jb(-1,null,["Tabl\xf3ide Digital"])),(t()(),o.rb(11,0,null,0,0,"div",[["class","space"],["slot","end"]],null,null,null,null,null)),(t()(),o.rb(12,0,null,0,6,"div",[["class","select-lojas"]],null,[[null,"click"]],(function(t,n,e){var o=!0;return"click"===n&&(o=!1!==t.component.openSelectLoja()&&o),o}),null,null)),(t()(),o.rb(13,0,null,null,1,"ion-icon",[["name","location"],["style","font-size: 20px;"]],null,null,null,i.mb,i.q)),o.qb(14,49152,null,0,a.E,[o.h,o.l,o.y],{name:[0,"name"]},null),(t()(),o.rb(15,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),o.Jb(16,null,["Loja ",""])),(t()(),o.rb(17,0,null,null,1,"ion-icon",[["name","caret-down-outline"]],null,null,null,i.mb,i.q)),o.qb(18,49152,null,0,a.E,[o.h,o.l,o.y],{name:[0,"name"]},null),(t()(),o.rb(19,0,null,null,10,"ion-content",[],null,null,null,i.ib,i.m)),o.qb(20,49152,null,0,a.w,[o.h,o.l,o.y],null,null),(t()(),o.rb(21,0,null,0,8,"div",[["class","tabloide-content"]],null,null,null,null,null)),(t()(),o.rb(22,0,null,null,5,"div",[["class","content-image"]],null,[[null,"click"]],(function(t,n,e){var o=!0;return"click"===n&&(o=!1!==t.component.openTabloide()&&o),o}),null,null)),(t()(),o.rb(23,0,null,null,1,"div",[["class","header-tabloide"]],null,null,null,null,null)),(t()(),o.Jb(24,null,["",""])),(t()(),o.rb(25,0,null,null,0,"img",[["alt",""],["class","image-tabloide"]],[[8,"src",4]],null,null,null,null)),(t()(),o.rb(26,0,null,null,1,"div",[["class","footer-tabloide"]],null,null,null,null,null)),(t()(),o.Jb(27,null,["",""])),(t()(),o.rb(28,0,null,null,1,"div",[["class","btn-open-tabloide"],["expand","block"]],null,[[null,"click"]],(function(t,n,e){var o=!0;return"click"===n&&(o=!1!==t.component.openTabloide2()&&o),o}),null,null)),(t()(),o.Jb(-1,null,["Clique para ampliar"]))],(function(t,n){t(n,3,0,"secondary"),t(n,14,0,"location"),t(n,18,0,"caret-down-outline")}),(function(t,n){var e=n.component;t(n,16,0,e.loja.nomeApresentacao),t(n,24,0,e.tabloide.nome),t(n,25,0,e.tabloide.url),t(n,27,0,"*Ofertas v\xe1lidas para as lojas "+e.lojasText+", de "+e.tabloide.dataInicial+" a "+e.tabloide.dataFinal+" ou enquanto durarem os estoques. Imagens meramente ilustrativas.")}))}var v=o.nb("app-clube-tabloides",g,(function(t){return o.Kb(0,[(t()(),o.rb(0,0,null,null,1,"app-clube-tabloides",[],null,null,null,y,m)),o.qb(1,114688,null,0,g,[a.b,a.Ib,a.Kb,u.a,d.a,s.a,f.a,a.Hb,h.a,p.a],null,null)],(function(t,n){t(n,1,0)}),null)}),{},{},[]),w=e("SVse"),x=e("s7LF"),_=e("iInd"),j=_createClass((function t(){_classCallCheck(this,t)}));e.d(n,"ClubeTabloidesPageModuleNgFactory",(function(){return C}));var C=o.ob(l,[],(function(t){return o.Ab([o.Bb(512,o.k,o.Z,[[8,[r.a,v]],[3,o.k],o.w]),o.Bb(4608,w.l,w.k,[o.t,[2,w.y]]),o.Bb(4608,x.l,x.l,[]),o.Bb(4608,a.c,a.c,[o.y,o.g]),o.Bb(4608,a.Hb,a.Hb,[a.c,o.k,o.q]),o.Bb(4608,a.Lb,a.Lb,[a.c,o.k,o.q]),o.Bb(1073742336,w.b,w.b,[]),o.Bb(1073742336,x.k,x.k,[]),o.Bb(1073742336,x.e,x.e,[]),o.Bb(1073742336,a.Db,a.Db,[]),o.Bb(1073742336,_.p,_.p,[[2,_.u],[2,_.m]]),o.Bb(1073742336,j,j,[]),o.Bb(1073742336,l,l,[]),o.Bb(1024,_.k,(function(){return[[{path:"",component:g}]]}),[])])}))}}]);